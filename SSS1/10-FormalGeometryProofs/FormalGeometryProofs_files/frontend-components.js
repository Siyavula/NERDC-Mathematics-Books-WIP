!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=35)}([function(e,t){e.exports=_},function(e,t){e.exports=function(e,t,n){return e.slice(0,t)+n+e.slice(t)}},function(e,t){e.exports={CHEMCOMPOUND:"chemcompound",CHEMEQUATION:"chemequation",CHOICE:"choice",COORDINATE:"coordinate",ELECTROCHEMCELL:"electrochemcell",EQUATION:"equation",EXPRESSION:"expression",FRACTION:"fraction",INTERVAL:"interval",LIST:"list",NUMERIC:"numeric",ONE_OF:"one-of",POLYNOMIAL:"polynomial",RELATIONAL:"relational",SPECTROSCOPIC:"spectroscopic",STRING:"string",STRINGSET:"stringset"}},function(e,t){e.exports=function(e){var t,n,i=e.match(/(?!t|x|e)([a-z]){1,1}/gi),o=["T","E","X"],s=[];for(e.match(/(?!\\|x)(t)/g)&&(e=e.replace(/(?!\\|x)(t)/g,"\\text{t}")),e.match(/(e)(?!x)/g)&&(e=e.replace(/(e)(?!x)/g,"\\text{e}")),e.match(/\|/g)&&(e=e.replace(/\|/g,"\\text{|}")),t=0;t<o.length;t++){var r=new RegExp(o[t],"g");e.match(r)&&(e=e.replace(r,"\\text{"+o[t]+"}"))}if(i)for(t=0;t<i.length;t++){var a=!1;for(n=0;n<s.length;n++)if(i[t]==s[n]){a=!0;break}if(!a){var c=i[t],l=new RegExp(c,"g");s.push(c),e=e.replace(l,"\\text{"+c+"}")}}return e}},function(e,t,n){var i=n(2).ONE_OF;e.exports=function(e){if(0===e.indexOf(i)){var t=e.match(/\((.*)\)/m);if(!t)throw new Error("One-of response type "+e+" cannot be parsed");e=t[1]}var n,o,s=e.indexOf(".");return s>0?(n=e.substring(0,s),o=e.substring(s+1)):n=e,{type:n,modifier:o}}},function(e,t){e.exports=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/（/g,"(")).replace(/）/g,")")).replace(/﹙/g,"(")).replace(/﹚/g,")")).replace(/⟮/g,"(")).replace(/⟯/g,")")).replace(/\u2212/g,"-")).replace(/\u2217/g,"*")).replace(/\^²/g,"^2")).replace(/\^³/g,"^3")).replace(/\^\u2074/g,"^4")).replace(/\^\u2075/g,"^5")).replace(/\^\u2076/g,"^6")).replace(/\^\u2077/g,"^7")).replace(/\^\u2078/g,"^8")).replace(/\^\u2079/g,"^9")).replace(/\u000A/g,"")).replace(/\u000C/g,"")).replace(/\u000D/g,"")).replace(/\u0085/g,"")).replace(/\u2028/g,"")).replace(/\u2029/g,"")).replace(/\s/g," ")).replace(/\u007F/g,"")).replace(/ {2,}/g," ")}},function(e,t){e.exports=function(e){return e=e.replace(/-</g,"- <")}},function(e,t){e.exports=function(e){return e=e.replace(/->/g,"- >")}},function(e,t){e.exports=function(e){return e=e.replace(/\\/g,"\\\\")}},function(e,t){e.exports=function(e){return e=e.replace(/times/g,"t i m e s")}},function(e,t,n){var i=n(11),o=n(12),s=n(13),r=n(3),a=n(14),c=n(15);e.exports=function(e){return e=i(e),e=o(e),e=s(e),e=r(e),e=a(e),e=c(e)}},function(e,t){e.exports=function(e){return e=(e=e.replace("<->","⇌")).replace("<=>","⇌")}},function(e,t,n){var i=n(1);e.exports=function(e){var t,n=e.match(/[)a-z]+[0-9]+/gi);if(n)for(t=0;t<n.length;t++){var o=n[t],s=o.match(/[0-9]/),r=o.indexOf(s),a=i(o,r,"_");e=e.replace(o,a)}return e}},function(e,t,n){var i=n(1);e.exports=function(e){var t,n=e.match(/[a-z]+[_0-9]*\^[0-9]*[-+]{1,1}/gi);if(n)for(t=0;t<n.length;t++){var o=n[t],s=o.indexOf("^"),r=i(o,s+1,"(");r+=")",e=e.replace(o,r)}return e}},function(e,t){e.exports=function(e){return e=e.replace(/<-/g,"\\leftarrow")}},function(e,t){e.exports=function(e){return e=e.replace(/<\=/g,"\\Leftarrow")}},function(e,t){e.exports=function(e){if(e.match(/-/gi)&&!e.match(/\//gi)){var t,n=/\+|-|\*|\(|\{|\[|;/,i=/[a-z,0-9]/i,o=e.split(""),s=o.length;for(t=0;t<s-1;t++)0===t?"-"===o[t]&&("-"===o[t+1]?o[t+1]="–":o[t]="–"):"-"===o[t]&&o[t+1].match(i)&&"^"!==o[t-1]&&o[t-1].match(n)?o[t]="–":"-"===o[t]&&o[t+1].match(i)&&1!==t&&(" "!==o[t-1]&&"\\ "!==o[t-1]||o[t-2].match(n)&&(o[t]="–"));e=o.join("")}return e}},function(e,t){e.exports=function(e){return e=(e=(e=e.replace(/\\/g,"|")).replace(/\//g,"|")).replace(/\|/g,"|")}},function(e,t){e.exports=function(e){var t,n=/\^[\(]+/g.test(e),i=/\/[\(]+/g.test(e),o=/sqrt[\(]+/g.test(e),s=e.match(/\^[\(]+/g),r=e.match(/\/[\(]+/g),a=e.match(/sqrt[\(]+/g),c=/{/g.test(e),l=/\[/g.test(e);if(!/\^|\/|sqrt/g.test(e))return e;if(n&&i)return e;if(n&&o)return e;if(i&&o)return e;if(n&&o&&i)return e;if(a&&a.length>1)return e;if(r&&r.length>1)return e;if(s&&s.length>1)return e;if(l)return e;if(c)return e;if(n)t="^";else if(i)t="/";else{if(!o)return e;t="sqrt"}var u,h,d,f=e.length,g=e.split(t),p=g.length,m=0,b=")",v=[];for(u=0;u<p;u++)if(d=g[u]){for(h=0;h<f;h++)if("("===d[h])m+=1;else if(")"===d[h]&&0===(m-=1))break;b=m>0?"":")",/\(/.test(d)&&u>0?h===d.length?v.push("("+d+b):v.push("("+d.substr(0,h)+b+d.substr(h)):v.push(d)}var y=v.length;return y>0&&(e=1===y&&"sqrt"===t?t+v[0]:v.join(t)),e}},function(e,t){e.exports=function(e){if(e.match(/[a-z,0-9]\^[A-Z,a-z,0-9]+\^[A-Z,a-z,0-9]+/gi)){var t,n=e.split("^"),i=n[1],o=e.substr(i.length+3),s="",r=!1;/[a-z]/i.test(o[0])&&(r=!0,s=o.substr(1),o=o[0]),/[0-9]+/gi.test(o)&&(r=!0,/\s/g.test(o)?(t=o.search(/\s/i),s=o.substr(t),-1!==(o=o.substr(0,t)).search(/[a-z]/i)&&(t=o.search(/[a-z]/i),s=o.substr(t)+s,o=o.substr(0,t))):-1!==o.search(/[a-z]/i)&&(t=o.search(/[a-z]/i),s=o.substr(t),o=o.substr(0,t))),/[0-9]+/gi.test(i)&&(/[a-z]/i.test(i)?r=!1:/\s/g.test(i)&&(r=!1)),r&&(e=n[0]+"^("+i+"^"+o+")"+s)}return e}},function(e,t){e.exports=function(e){return e=(e=e.replace(/U/g,"\\cup")).replace(/["']+/g,"")}},function(e,t,n){var i=n(1);e.exports=function(e){var t,n=e.match(/[0-9]+e-*[0-9]*/g);if(n)for(t=0;t<n.length;t++){var o=n[t],s=o.indexOf("e"),r=o.replace("e","^");r=i(r,s,"*10"),e=e.replace(o,r)}return e}},function(e,t){e.exports=function(e){return e=e.replace(/x/g,"times")}},function(e,t){e.exports=function(e){return e=e.replace(/\*/g,"times")}},function(e,t,n){var i=n(1);e.exports=function(e){var t,n,o,s,r,a,c,l=e.match(/[a-z]+[0-9]+/gi);if(l)for(t=0;t<l.length;t++)o=(n=l[t]).match(/[0-9]/),s=n.indexOf(o),r=i(n,s,"^"),e=e.replace(n,r);var u=/[a-z]+\^\(+[0-9]+\)*/gi;if(u.test(e))for(c=e.match(u),t=0;t<c.length;t++)s=(n=c[t]).indexOf("("),r=-1!=(a=n.lastIndexOf(")"))?n.substr(0,s)+"("+n.substr(s,a+1)+")":n.substr(0,s)+"("+n.substr(s),e=e.replace(n,r);return e}},function(e,t,n){var i=n(26),o=n(27),s=n(28),r=n(29),a=n(30),c=n(31),l=n(32),u=n(33),h=n(34),d=n(62);e.exports=function(e){return e=i(e),e=o(e),e=s(e),e=r(e),e=a(e),e=c(e),e=l(e),e=u(e),e=h(e),e=d(e)}},function(e,t){e.exports=function(e){return e=(e=e.replace(/\+-/g,"+ -")).replace(/\+\/-/g,"+-")}},function(e,t){e.exports=function(e){return e=e.replace(/>-/g,"> -")}},function(e,t){e.exports=function(e){return e=e.replace(/<-/g,"< -")}},function(e,t,n){var i=n(1);e.exports=function(e){var t,n,o=e.match(/([a-zA-Z]+(tan|cos|pi|sin))|((tan|cos|pi|sin)[a-zA-Z]+)/g);if(o)for(t=0;t<o.length;t++){var s=o[t],r=_.clone(s),a=s.length+(s.length-1);for(n=1;n<a;n+=2)r=i(r,n,"*");e=e.replace(s,r)}return e}},function(e,t){e.exports=function(e){return e=e.replace(/,/g,"\\text{,}")}},function(e,t){e.exports=function(e){return e=(e=(e=e.replace(/\s\/\s/g,"/")).replace(/\s\//g,"/")).replace(/\/\s/g,"/")}},function(e,t){e.exports=function(e){return e=e.replace("√","")}},function(e,t){e.exports=function(e){return e=e.replace(/\s/g,"\\ ")}},function(e,t){e.exports=function(e){return e=(e=(e=e.replace(/\^\s/,"\\text{^ }")).replace(/\^$/,"\\text{^}")).replace(/\^\\ /g,"\\text{^ }")}},function(e,t,n){n(36),n(37),n(38),n(39),n(41),n(43),n(45),n(47),n(49),n(51),n(53),n(55),n(57),n(59),n(64),n(66),n(68),n(70),n(72),n(75),n(78),n(80),n(82),n(84),n(86),n(88),n(90),e.exports=n(92)},function(e,t){jQuery.blockUI.defaults.css={},jQuery.blockUI.defaults.overlayCSS={},jQuery.blockUI.defaults.fadeIn=150,jQuery.blockUI.defaults.fadeOut=150},function(e,t){Promise.config({cancellation:!0})},function(e,t){Queue.configure(Promise)},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(40));(window.SV=window.SV||{}).Ajax=new i.default},function(e,t){var n={html:"responseText",json:"responseJSON",text:"responseText",xml:"responseXML"};function i(){this.queue=new Queue(1)}i.prototype={prototype:i,enqueue:function(e){return this.queue.add(function(){return new Promise(function(t,n,i){e.success=function(n,i,o){t({data:n,headers:this.parseResponseHeaders(o.getAllResponseHeaders()),method:e.method.toLowerCase(),statusCode:o.status})}.bind(this),e.error=function(t,i,o){n({data:this.getParsedData(t,e.dataType||"text"),error:SV.Ajax.buildError(t.status,o.toString()),headers:this.parseResponseHeaders(t.getAllResponseHeaders()),method:e.method.toLowerCase(),statusCode:t.status})}.bind(this);var o=jQuery.ajax(e);i(function(){o.abort()})}.bind(this))}.bind(this))},getParsedData:function(e,t){if(!_.isUndefined(t)){var i=n[t];if(!_.isUndefined(i))return e[i]}},parseResponseHeaders:function(e){for(var t,n={},i=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm;t=i.exec(e);)n[t[1].toLowerCase()]=t[2];return n},buildError:function(e,t,n){return _.isUndefined(n)&&(n=[{message:t}]),{code:e,errors:n,message:t}},get:function(e){return e.method="GET",this.enqueue(e)},post:function(e){return e.method="POST",this.enqueue(e)}},e.exports=i},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(42));(window.SV=window.SV||{}).Alert=i.default},function(e,t){function n(e){this.config=jQuery.extend({dismissable:!1,dismissButton:".sv-alert__close",dismissDuration:400,dismissEasing:"swing",dismissFn:"fadeOut",elm:void 0,onDismiss:_.noop,debug:!1},e),this.flags={init:!1,console:!!console},this.id=_.uniqueId("sv-"),this.$elm=void 0,this.$dismissButton=void 0}n.prototype={prototype:n,init:function(){if(this.flags.init)return this;this.log("Alert.init()");var e=this;return this.$elm=jQuery(this.config.elm),this.config.dismissable&&(this.$dismissButton=jQuery(this.config.dismissButton,this.$elm),this.$dismissButton.on("click.Alert",function(){e.$elm.stop()[e.config.dismissFn]({duration:e.config.dismissDuration,easing:e.config.dismissEasing,complete:e.config.onDismiss})})),this},destroy:function(){this.flags.init&&(this.log("Alert.destroy()"),this.config.dismissable&&this.$dismissButton.off("click.Alert"))},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(44));(window.SV=window.SV||{}).API=new i.default},function(e,t){function n(){this.config={defaultRequest:{cache:!1,contentType:"application/json; charset=utf-8",dataType:"json",traditional:!0}}}n.prototype={prototype:n,setConfig:function(e){_.assign(this.config,e)},handleResponseSuccess:function(e,t){var n=_.get(t.data,"errors",[]);if(n.length){var i=_.first(n),o=_.get(i,"statusCode",400),s=_.get(i,"message","An error occurred");return t.error=SV.Ajax.buildError(o,s,n),Promise.reject(t)}return Promise.resolve(t)},handleResponseError:function(e,t){return Promise.reject(t)},get:function(e){var t=_.assign({},this.config.defaultRequest,e);return SV.Ajax.get(t).then(this.handleResponseSuccess.bind(this,t),this.handleResponseError.bind(this,t))},post:function(e){var t=_.assign({},this.config.defaultRequest,e);return SV.Ajax.post(t).then(this.handleResponseSuccess.bind(this,t),this.handleResponseError.bind(this,t))}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(46));(window.SV=window.SV||{}).Util=new i.default},function(e,t){_.invert({d:"D",dd:"DD",o:"DDD",oo:"DDDD",D:"ddd",DD:"dddd",m:"M",mm:"MM",M:"MMM",MM:"MMMM",y:"YY",yy:"YYYY"});var n={a:"a",A:"A",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss"};_.invert(n);function i(){}i.prototype={prototype:i,hasReactChild:function(e,t){var n=!1;return React.Children.forEach(e,function(e,i){!n&&_.isObject(e)&&(e.type.displayName===t||this.hasReactChild(e.props.children,t))&&(n=!0)}.bind(this)),n},isPossibleEmail:function(e){return/@/.test(e)},isPossibleMobilePhone:function(e){return/^\d+$/.test(e)},isElementInViewport:function(e){var t=e.getBoundingClientRect();return t.bottom>0&&t.right>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)},pluralize:function(e,t){var n=_.get(t,e);return _.isUndefined(n)&&(n=_.get(t,"other","")),n.replace(/\{\}/gm,e)},formatDate:function(e,t){return jQuery.datepicker.formatDate(t,e)},parseDate:function(e,t){return jQuery.datepicker.parseDate(t,e)},formatTime:function(e,t){return moment(e).format(this.timepickerToMomentFormat(t))},parseTime:function(e,t){return moment(e,this.timepickerToMomentFormat(t)).toDate()},parseDateTime:function(e,t,n,i){var o=this.parseDate(e,n),s=this.parseTime(t,i);if(_.isDate(o)&&_.isDate(s)){var r=s.getHours(),a=s.getMinutes(),c=s.getSeconds(),l=s.getMilliseconds();return o.setHours(r),o.setMinutes(a),o.setSeconds(c),o.setMilliseconds(l),o}},roundDownDate:function(e,t){return _.isUndefined(t)&&(t=new Date),t.setTime(Math.floor(t.getTime()/e)*e),t},roundUpDate:function(e,t){return _.isUndefined(t)&&(t=new Date),t.setTime(Math.ceil(t.getTime()/e)*e),t},timepickerToMomentFormat:function(e){for(var t,i="",o=0;o<e.length;o++)t=e.charAt(o),_.has(n,t)?i+=n[t]:i+=t;return i},randomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}},e.exports=i},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(48));(window.SV=window.SV||{}).AutocompleteField=i.default},function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var s=jQuery(window),r=jQuery(document);jQuery.widget&&jQuery.ui&&jQuery.widget("custom.autocompleteField",jQuery.ui.autocomplete,{_resizeMenu:function(){var e=s.height(),t=r.scrollTop(),n=this.element.outerHeight(),i=this.element.offset().top,o=i-t-8,a=e-n-(i-t)-8;this.menu.element.css("max-height",Math.max(0,o,a))}});var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=o.default.assign({debug:!1,elm:void 0,closeMenuOnWindowScroll:!1,resizeMenuOnWindowResize:!1},t),this.state={id:o.default.uniqueId("sv-"),init:!1,console:!!console,hover:!1,open:!1}}return e.prototype.init=function(){if(this.state.init)return this;this.log("AutocompleteField.init()");var e=this,t=jQuery(this.config.elm),n=i({},o.default.pick(this.config,o.default.difference(o.default.keys(this.config),["debug","elm","closeMenuOnWindowScroll","resizeMenuOnWindowResize"])),{position:{my:"left top",at:"left bottom",collision:"none flip"},close:function(){e.state.open=!1},open:function(){e.state.open=!0}});return this.$elm=t,t.autocompleteField(n),t.autocompleteField("widget").on("mouseenter."+this.state.id,function(){e.state.hover=!0}).on("mouseleave."+this.state.id,function(){e.state.hover=!1}),this.config.resizeMenuOnWindowResize&&s.on("resize."+this.state.id,o.default.throttle(this.handleWindowResize.bind(this),100)),this.config.closeMenuOnWindowScroll&&s.on("scroll."+this.state.id,o.default.throttle(this.handleWindowScroll.bind(this),100)),this.state.init=!0,this},e.prototype.destroy=function(){return this.state.init?(s.off("."+this.state.id),this.$elm.autocompleteField("destroy"),this.state.init=!1,this):this},e.prototype.handleWindowResize=function(){this.state.open&&this.$elm.autocompleteField("close").autocompleteField("search")},e.prototype.handleWindowScroll=function(){this.state.hover||this.$elm.autocompleteField("close")},e.prototype.log=function(e){this.config.debug&&this.state.console&&console.debug(e)},e}();e.exports=a},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(50));(window.SV=window.SV||{}).BlockUI=new i.default},function(e,t){var n="BlockUI",i="SV."+n+".center",o="SV."+n+".instanceId",s="SV."+n+".messageSelector";function r(e){this.DEFAULT_CONFIG={blockMsgClass:"blockMsg"},this.MODAL_OVERLAY_CONFIG={blockMsgClass:"sv-modal",blockOverlayClass:"sv-overlay sv-overlay--active",centerX:!0,centerY:!0},this.MODAL_OVERLAY_DISMISSABLE_CONFIG={blockMsgClass:"sv-modal",blockOverlayClass:"sv-overlay sv-overlay--active sv-overlay--dismissable",centerX:!0,centerY:!0,onBlock:function(){var e=this;jQuery(".sv-overlay",e).on("click."+n,function(t){t.preventDefault(),SV.BlockUI.unblock(e)})}},this.SPINNER_CONFIG={message:'<svg class="svg-icon sv-spinner" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#icon-spinner"/></svg>',blockMsgClass:"blockMsg blockMsg--spinner",blockOverlayClass:"blockOverlay blockOverlay--spinner",centerX:!0,centerY:!0},this.config=jQuery.extend({debug:!1},e),this.flags={init:!1,console:!!console},this.stack=[],this.init()}r.prototype={prototype:r,init:function(){if(!this.flags.init){this.log(n+".init()");this.flags.init=!0,jQuery(window).on("resize.BlockUI",this.center.bind(this))}},destroy:function(){this.flags.init&&this.log(n+".destroy()")},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)},block:function(e,t){if(this.flags.init){var n,r=jQuery(e),a=this.isBlocked(r);a?n=r.data(o):(n=_.uniqueId("sv-blockui-"),r.addClass(n),r.data(o,n)),t||(t=this.DEFAULT_CONFIG);var c=t.centerX&&t.centerY,l=c?this.center.bind(this):_.noop,u=t.onBlock||_.noop,h=t.onUnblock||_.noop;t.onBlock=function(){l(),u.call(this)}.bind(r),t.onUnblock=function(){h.call(this)}.bind(r),r.data(i,c),r.data(s,this.classNamesToSelector(t.blockMsgClass)),r.block(t),a||this.addToStack(r)}},unblock:function(e){var t=jQuery(e);if(this.isBlocked(t)){t.children(".sv-overlay").off("click."+n),this.removeFromStack(t),t.unblock();var r=t.data(o);t.removeData([i,o,s]),t.removeClass(r)}},center:function(){_.forEach(this.stack,function(e){if(e.data(i)){var t=jQuery(e.data(s),e);if(t.length){var n=t.get(0),o=n.parentNode,r=n.style,a=(o.offsetWidth-n.offsetWidth)/2,c=(o.offsetHeight-n.offsetHeight)/2;r.left=a>0?a+"px":"0",r.top=c>0?c+"px":"0"}}})},classNamesToSelector:function(e){return e="."+(e=_.trim(e)).replace(/\s+/g,".")},addToStack:function(e){this.stack.push(e)},removeFromStack:function(e){var t=this.findIndexInStack(e);t<0||this.stack.splice(t,1)},findIndexInStack:function(e){var t=e.data(o);return t?_.findIndex(this.stack,function(e){return t===e.data(o)}):-1},isBlocked:function(e){return this.findIndexInStack(e)>-1}},e.exports=r},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(52));(window.SV=window.SV||{}).ChallengeController=i.default},function(e,t){function n(e){this.config=jQuery.extend({routes:{},goal:0,initialValue:0,onInit:_.noop,onChange:_.noop,progressElm:void 0,counterNameElm:void 0,counterValueElm:void 0,counterNameTemplate:_.noop,counterUpdateInterval:1e4,counterDecimals:0,counterDuration:2e3,counterSeparator:" ",debug:!1,mock:!1},e),this.flags={init:!1,console:!!console,nativeProgress:!1,running:!1},this.state={value:0,percentage:0,percentageClamp:0}}n.prototype={prototype:n,init:function(){return this.flags.init?this:(this.log("ChallengeController.init()"),this.$progress=jQuery(this.config.progressElm),this.$counterName=jQuery(this.config.counterNameElm),this.$counterValue=jQuery(this.config.counterValueElm),this.$progress.length&&this.$counterName.length&&this.$counterValue.length?(this.flags.nativeProgress="progress"==this.$progress.get(0).nodeName.toLowerCase(),this.counterValueAnim=new CountUp(this.$counterValue.get(0),this.config.initialValue,this.config.initialValue,this.config.counterDecimals,this.config.counterDuration/1e3,{separator:this.config.counterSeparator}),this.flags.init=!0,this.setValue(this.config.initialValue,!0),this):this)},destroy:function(){this.flags.init&&this.log("ChallengeController.destroy()")},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)},setValue:function(e,t){if(this.flags.init){e>=this.config.goal&&this.state.value>0&&this.state.value<this.config.goal&&(e=this.config.goal);var n=Math.floor(e/this.config.goal*100),i=Math.min(100,Math.max(n,0));this.state.value=e,this.state.percentage=n,this.state.percentageClamp=i,this.render(),this.config[t?"onInit":"onChange"](t?"init":"change",this.config.goal,e,n,i)}},resetValue:function(){this.flags.init&&this.setValue(this.config.initialValue)},start:function(){this.flags.init&&!this.flags.running&&(this.log("ChallengeController.start()"),this.flags.running=!0,setTimeout(this.recursiveFetch.bind(this),this.config.counterUpdateInterval))},recursiveFetch:function(){if(this.flags.init){var e=this;return this.fetch().then(function(t){return e.setValue(t),Promise.resolve(setTimeout(e.recursiveFetch.bind(e),e.config.counterUpdateInterval))})}},fetch:function(){if(this.flags.init){if(this.config.mock){var e=this;return new Promise(function(t,n){setTimeout(function(){t(e.state.value+4)},500)})}var t=_.get(this.config.routes.api,"method","get"),n=this.config.routes.api.url;return SV.API[t]({url:n}).then(function(e){return Promise.resolve(e.data.data.count)}).catch(function(){})}},render:function(){if(this.flags.init){this.flags.nativeProgress?this.$progress.attr("value",this.state.percentageClamp).html(this.state.percentage+" %"):this.$progress.attr("data-value",this.state.percentageClamp);var e=this.config.counterNameTemplate(this.state.value);this.counterValueAnim.update(this.state.value),this.$counterName.html(e)}}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(54));(window.SV=window.SV||{}).ChallengeChartPanel=i.default},function(e,t){function n(e){this.config=jQuery.extend({panelElm:void 0,confectionElm:void 0,confectionCanvasElm:void 0,chartElm:void 0,progressElm:void 0,counterValueElm:void 0,counterNameElm:void 0,routes:{},counterNameTemplate:_.noop,counterUpdateInterval:1e4,counterDuration:2e3,counterSeparator:" ",debug:!1,mock:!1},e),this.flags={init:!1,console:!!console,running:!1,success:!1},this.controller=void 0}n.prototype={prototype:n,init:function(){if(this.flags.init)return this;this.log("ChallengeChartPanel.init()");var e=this,t=jQuery(this.config.panelElm),n=jQuery(this.config.confectionElm),i=jQuery(this.config.confectionCanvasElm),o=jQuery(this.config.chartElm),s=jQuery(this.config.progressElm),r=jQuery(this.config.counterValueElm),a=jQuery(this.config.counterNameElm);if(!(t.length&&n.length&&i.length&&o.length&&s.length&&r.length&&a.length))return this;function c(o,s,r,a){!e.flags.success&&a>=100&&(e.flags.success=!0,setTimeout(function(){t.removeClass("sv-panel--progress").addClass("sv-panel--success"),Modernizr.canvas&&r<=s+50?(i.removeClass("no-js"),new SV.Confection({elm:n,canvasElm:i}).init()):i.addClass("no-js")},"init"===o?0:e.config.counterDuration/8))}var l=_.assign(_.pick(this.config,["routes","counterNameTemplate","counterUpdateInterval","counterDuration","counterSeparator","debug","mock"]),{goal:t.data("goal"),initialValue:t.data("value"),onInit:c,onChange:c,progressElm:s,counterValueElm:r,counterNameElm:a});return this.controller=new SV.ChallengeController(l),this.controller.init(),this.flags.init=!0,this},destroy:function(){this.flags.init&&this.log("ChallengeChartPanel.destroy()")},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)},start:function(){this.flags.init&&!this.flags.running&&(this.log("ChallengeChartPanel.start()"),this.controller.start(),this.flags.running=!0)}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(56));(window.SV=window.SV||{}).ChallengeBanner=i.default},function(e,t){function n(e){this.config=jQuery.extend({bannerElm:void 0,confectionElm:void 0,confectionCanvasElm:void 0,chartElm:void 0,progressElm:void 0,counterValueElm:void 0,counterNameElm:void 0,routes:{},counterNameTemplate:_.noop,counterUpdateInterval:1e4,counterDuration:2e3,counterSeparator:" ",debug:!1,mock:!1},e),this.flags={init:!1,console:!!console,running:!1,success:!1},this.controller=void 0}n.prototype={prototype:n,init:function(){if(this.flags.init)return this;this.log("ChallengeBanner.init()");var e=this,t=jQuery(this.config.bannerElm),n=jQuery(this.config.confectionElm),i=jQuery(this.config.confectionCanvasElm),o=jQuery(this.config.chartElm),s=jQuery(this.config.progressElm),r=jQuery(this.config.counterValueElm),a=jQuery(this.config.counterNameElm);if(!(t.length&&n.length&&i.length&&o.length&&s.length&&r.length&&a.length))return this;function c(o,s,r,a){!e.flags.success&&a>=100&&(e.flags.success=!0,setTimeout(function(){t.removeClass("sv-challenge-banner--progress").addClass("sv-challenge-banner--success"),Modernizr.canvas?(i.removeClass("no-js"),new SV.Confection({elm:n,canvasElm:i}).init()):i.addClass("no-js")},"init"===o?0:e.config.counterDuration/8))}var l=_.assign(_.pick(this.config,["routes","counterNameTemplate","counterUpdateInterval","counterDuration","counterSeparator","debug","mock"]),{goal:t.data("goal"),initialValue:t.data("value"),onInit:c,onChange:c,progressElm:s,counterValueElm:r,counterNameElm:a});return this.controller=new SV.ChallengeController(l),this.controller.init(),this.flags.init=!0,this},destroy:function(){this.flags.init&&this.log("ChallengeBanner.destroy()")},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)},start:function(){this.flags.init&&!this.flags.running&&(this.log("ChallengeBanner.start()"),this.controller.start(),this.flags.running=!0)}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(58));(window.SV=window.SV||{}).ChartController=i.default},function(e,t){var n={change:"onChange",init:"onInit"};function i(e){this.config=jQuery.extend({debug:!1,onInit:_.noop,onChange:_.noop,mockRoutes:{},routes:{},value:0,updateInterval:1e4},e),this.flags={init:!1,console:!!console,running:!1},this.state={value:0}}i.CHANGE="change",i.INIT="init",i.prototype={prototype:i,init:function(){return this.flags.init?this:(this.log("ChartController.init()"),this.flags.init=!0,this.setValue(this.config.value,i.INIT),this)},destroy:function(){this.flags.init&&this.log("ChartController.destroy()")},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)},getValue:function(){return this.state.value},setValue:function(e,t){if(this.flags.init){_.isUndefined(t)&&(t=i.CHANGE),this.state.value=e;var o=n[t];this.config[o](t,e)}},resetValue:function(){this.flags.init&&this.setValue(this.config.value)},start:function(){this.flags.init&&!this.flags.running&&(this.log("ChartController.start()"),this.flags.running=!0,setTimeout(this.recursiveFetch.bind(this),this.config.updateInterval))},recursiveFetch:function(){if(this.flags.init){var e=this;return this.fetch().then(function(t){return e.setValue(t),Promise.resolve(setTimeout(e.recursiveFetch.bind(e),e.config.updateInterval))})}},fetch:function(){if(this.flags.init){var e=this.config.mockRoutes.fetch;if(e)return e(this.state.value);var t=this.config.routes.fetch,n=_.get(t.request,"method","get"),i={url:t.request.url},o=t.response.success||_.noop,s=t.response.error||_.noop;return SV.API[n](i).then(o).catch(s)}}},e.exports=i},function(e,t,n){var i=n(60);(window.SV=window.SV||{}).ChemJax=new i},function(e,t,n){var i=n(61),o=n(25),s=n(23),r=n(8),a=n(18),c=n(12),l=n(13),u=n(10),h=n(30),d=n(21),f=n(31),g=n(27),p=n(14),m=n(15),b=n(28),v=n(9),y=n(7),C=n(6),x=n(19),w=n(16),S=n(17),I=n(26),E=n(33),k=n(24),T=n(63),_=n(34),j=n(3),V=n(29),Q=n(11),$=n(5),O=n(32),M=n(20),N=n(22),A=n(4),P=n(2),R=P.CHEMCOMPOUND,L=P.CHEMEQUATION,D=P.CHOICE,U=P.COORDINATE,F=P.ELECTROCHEMCELL,B=P.EQUATION,H=P.EXPRESSION,q=P.FRACTION,z=P.INTERVAL,J=P.LIST,G=P.NUMERIC,W=P.ONE_OF,Y=P.POLYNOMIAL,X=P.RELATIONAL,Z=P.SPECTROSCOPIC,K=P.STRING,ee=P.STRINGSET;function te(){this.CHEMCOMPOUND=R,this.CHEMEQUATION=L,this.CHOICE=D,this.COORDINATE=U,this.ELECTROCHEMCELL=F,this.EQUATION=B,this.EXPRESSION=H,this.FRACTION=q,this.INTERVAL=z,this.LIST=J,this.NUMERIC=G,this.ONE_OF=W,this.POLYNOMIAL=Y,this.RELATIONAL=X,this.SPECTROSCOPIC=Z,this.STRING=K,this.STRINGSET=ee}te.prototype={prototype:te,filter:i,filterAllTypes:o,filterAsteriskToTimes:s,filterBackSlash:r,filterBrackets:a,filterChemSubscripts:c,filterChemSuperscripts:l,filterChemTypes:u,filterCommas:h,filterEToTimesTen:d,filterFractionSlash:f,filterGreaterThanMinus:g,filterLeftArrow:p,filterLessThan:m,filterLessThanMinus:b,filterLiteralTimes:v,filterMinusGreaterThan:y,filterMinusLessThan:C,filterMultipleExponents:x,filterNumericalMinus:w,filterPipes:S,filterPlusMinus:I,filterSpaces:E,filterSpecSuperscripts:k,filterSubscriptScrewUp:T,filterTerminalCaret:_,filterText:j,filterTrigFunctions:V,filterTwoWayArrows:Q,filterUnicodeReplacements:$,filterUnicodeSqrt:O,filterUnionSymbol:M,filterXToTimes:N,parseResponseType:A},e.exports=te},function(e,t,n){var i=n(4),o=n(5),s=n(6),r=n(7),a=n(8),c=n(9),l=n(10),u=n(16),h=n(17),d=n(18),f=n(19),g=n(20),p=n(21),m=n(22),b=n(23),v=n(24),y=n(3),C=n(25),x=n(2),w=x.CHEMCOMPOUND,S=x.CHEMEQUATION,I=x.COORDINATE,E=x.ELECTROCHEMCELL,k=x.EQUATION,T=x.EXPRESSION,j=x.FRACTION,V=x.INTERVAL,Q=x.NUMERIC,$=x.POLYNOMIAL,O=x.SPECTROSCOPIC,M=x.STRING;e.exports=function(e,t){if(_.isUndefined(e))throw new Error("value is required");if(_.isUndefined(t))throw new Error("responseType is required");var n=i(t).type;switch(e=o(e),e=s(e),n!==w&&n!==S&&n!==E&&(e=r(e,n)),n!==E&&(e=a(e)),e=c(e),n){case w:case S:e=l(e);break;case I:e=u(e);break;case E:e=h(e),e=l(e);break;case k:case T:e=d(e),e=f(e),e=u(e);break;case j:e=u(e);break;case V:e=g(e),e=u(e);break;case Q:e=d(e),e=p(e),e=m(e),e=b(e),e=u(e),e=f(e);break;case $:e=u(e),e=d(e);break;case O:e=v(e),e=a(e),e=y(e);break;case M:e=y(e)}return e=C(e)}},function(e,t){e.exports=function(e){return e=e.replace(/\*\*/g,"* *")}},function(e,t){e.exports=function(e){var t,n=e.match(/[a-z]*[0-9]*\^[0-9]+_[0-9]+/gi);if(n)for(t=0;t<n.length;t++){var i=n[t],o=_.clone(i),s=i.indexOf(i.match(/\^/)),r=i.indexOf(i.match(/_/)),a=i.substring(s+1,r),c=i.substring(r+1,i.length);o=(o=(o=i.replace(a,c)).replace("_"+c,"^"+a)).replace("^","_"),e=e.replace(i,o)}return e}},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(65));(window.SV=window.SV||{}).Color=new i.default},function(e,t){function n(){this.config={colors:{red:{hex:"#e02e2e",rgb:[224,46,46],hue:"red"},"red-50":{hex:"#fae0e0",rgb:[250,224,224],hue:"red",shade:50},"red-100":{hex:"#fcc0ba",rgb:[252,192,186],hue:"red",shade:100},"red-200":{hex:"#faa095",rgb:[250,160,149],hue:"red",shade:200},"red-300":{hex:"#f47f71",rgb:[244,127,113],hue:"red",shade:300},"red-400":{hex:"#eb5b4f",rgb:[235,91,79],hue:"red",shade:400},"red-500":{hex:"#e02e2e",rgb:[224,46,46],hue:"red",shade:500},"red-600":{hex:"#c92525",rgb:[201,37,37],hue:"red",shade:600},"red-700":{hex:"#b31c1c",rgb:[179,28,28],hue:"red",shade:700},"red-800":{hex:"#9e1314",rgb:[158,19,20],hue:"red",shade:800},"red-900":{hex:"#88080b",rgb:[136,8,11],hue:"red",shade:900},orange:{hex:"#ef6a2c",rgb:[239,106,44],hue:"orange"},"orange-50":{hex:"#fde9df",rgb:[253,233,223],hue:"orange",shade:50},"orange-100":{hex:"#ffd0bb",rgb:[255,208,187],hue:"orange",shade:100},"orange-200":{hex:"#ffb797",rgb:[255,183,151],hue:"orange",shade:200},"orange-300":{hex:"#fc9e73",rgb:[252,158,115],hue:"orange",shade:300},"orange-400":{hex:"#f78450",rgb:[247,132,80],hue:"orange",shade:400},"orange-500":{hex:"#ef6a2c",rgb:[239,106,44],hue:"orange",shade:500},"orange-600":{hex:"#df5a23",rgb:[223,90,35],hue:"orange",shade:600},"orange-700":{hex:"#cf4a1a",rgb:[207,74,26],hue:"orange",shade:700},"orange-800":{hex:"#c03a11",rgb:[192,58,17],hue:"orange",shade:800},"orange-900":{hex:"#b02807",rgb:[176,40,7],hue:"orange",shade:900},amber:{hex:"#ffa600",rgb:[255,166,0],hue:"amber"},"amber-50":{hex:"#fff2d9",rgb:[255,242,217],hue:"amber",shade:50},"amber-100":{hex:"#ffe4b8",rgb:[255,228,184],hue:"amber",shade:100},"amber-200":{hex:"#ffd595",rgb:[255,213,149],hue:"amber",shade:200},"amber-300":{hex:"#ffc671",rgb:[255,198,113],hue:"amber",shade:300},"amber-400":{hex:"#ffb749",rgb:[255,183,73],hue:"amber",shade:400},"amber-500":{hex:"#ffa600",rgb:[255,166,0],hue:"amber",shade:500},"amber-600":{hex:"#f19200",rgb:[241,146,0],hue:"amber",shade:600},"amber-700":{hex:"#e27f00",rgb:[226,127,0],hue:"amber",shade:700},"amber-800":{hex:"#d46b00",rgb:[212,107,0],hue:"amber",shade:800},"amber-900":{hex:"#c55700",rgb:[197,87,0],hue:"amber",shade:900},yellow:{hex:"#ffd500",rgb:[255,213,0],hue:"yellow"},"yellow-50":{hex:"#fff9d9",rgb:[255,249,217],hue:"yellow",shade:50},"yellow-100":{hex:"#fff2bb",rgb:[255,242,187],hue:"yellow",shade:100},"yellow-200":{hex:"#ffeb9c",rgb:[255,235,156],hue:"yellow",shade:200},"yellow-300":{hex:"#ffe479",rgb:[255,228,121],hue:"yellow",shade:300},"yellow-400":{hex:"#ffdd50",rgb:[255,221,80],hue:"yellow",shade:400},"yellow-500":{hex:"#ffd500",rgb:[255,213,0],hue:"yellow",shade:500},"yellow-600":{hex:"#f5c300",rgb:[245,195,0],hue:"yellow",shade:600},"yellow-700":{hex:"#ebb200",rgb:[235,178,0],hue:"yellow",shade:700},"yellow-800":{hex:"#e0a000",rgb:[224,160,0],hue:"yellow",shade:800},"yellow-900":{hex:"#d68f00",rgb:[214,143,0],hue:"yellow",shade:900},lime:{hex:"#c3cc17",rgb:[195,204,23],hue:"lime"},"lime-50":{hex:"#f6f7dc",rgb:[246,247,220],hue:"lime",shade:50},"lime-100":{hex:"#eeeeba",rgb:[238,238,186],hue:"lime",shade:100},"lime-200":{hex:"#e5e697",rgb:[229,230,151],hue:"lime",shade:200},"lime-300":{hex:"#dbdd74",rgb:[219,221,116],hue:"lime",shade:300},"lime-400":{hex:"#d0d44e",rgb:[208,212,78],hue:"lime",shade:400},"lime-500":{hex:"#c3cc17",rgb:[195,204,23],hue:"lime",shade:500},"lime-600":{hex:"#afb711",rgb:[175,183,17],hue:"lime",shade:600},"lime-700":{hex:"#9ca30c",rgb:[156,163,12],hue:"lime",shade:700},"lime-800":{hex:"#898f07",rgb:[137,143,7],hue:"lime",shade:800},"lime-900":{hex:"#777b03",rgb:[119,123,3],hue:"lime",shade:900},green:{hex:"#45b449",rgb:[69,180,73],hue:"green"},"green-50":{hex:"#e3f4e4",rgb:[227,244,228],hue:"green",shade:50},"green-100":{hex:"#c6e7c4",rgb:[198,231,196],hue:"green",shade:100},"green-200":{hex:"#a9dba5",rgb:[169,219,165],hue:"green",shade:200},"green-300":{hex:"#8bce87",rgb:[139,206,135],hue:"green",shade:300},"green-400":{hex:"#6bc168",rgb:[107,193,104],hue:"green",shade:400},"green-500":{hex:"#45b449",rgb:[69,180,73],hue:"green",shade:500},"green-600":{hex:"#39a03b",rgb:[57,160,59],hue:"green",shade:600},"green-700":{hex:"#2c8d2d",rgb:[44,141,45],hue:"green",shade:700},"green-800":{hex:"#1f7b1e",rgb:[31,123,30],hue:"green",shade:800},"green-900":{hex:"#11680f",rgb:[17,104,15],hue:"green",shade:900},teal:{hex:"#0daa88",rgb:[13,170,136],hue:"teal"},"teal-50":{hex:"#dbf2ed",rgb:[219,242,237],hue:"teal",shade:50},"teal-100":{hex:"#bae4d8",rgb:[186,228,216],hue:"teal",shade:100},"teal-200":{hex:"#99d6c4",rgb:[153,214,196],hue:"teal",shade:200},"teal-300":{hex:"#77c7af",rgb:[119,199,175],hue:"teal",shade:300},"teal-400":{hex:"#50b99b",rgb:[80,185,155],hue:"teal",shade:400},"teal-500":{hex:"#0daa88",rgb:[13,170,136],hue:"teal",shade:500},"teal-600":{hex:"#0b9472",rgb:[11,148,114],hue:"teal",shade:600},"teal-700":{hex:"#087f5d",rgb:[8,127,93],hue:"teal",shade:700},"teal-800":{hex:"#066b48",rgb:[6,107,72],hue:"teal",shade:800},"teal-900":{hex:"#035734",rgb:[3,87,52],hue:"teal",shade:900},cyan:{hex:"#00bcd4",rgb:[0,188,212],hue:"cyan"},"cyan-50":{hex:"#d9f5f9",rgb:[217,245,249],hue:"cyan",shade:50},"cyan-100":{hex:"#bceaf1",rgb:[188,234,241],hue:"cyan",shade:100},"cyan-200":{hex:"#9edeea",rgb:[158,222,234],hue:"cyan",shade:200},"cyan-300":{hex:"#7dd3e3",rgb:[125,211,227],hue:"cyan",shade:300},"cyan-400":{hex:"#56c7db",rgb:[86,199,219],hue:"cyan",shade:400},"cyan-500":{hex:"#00bcd4",rgb:[0,188,212],hue:"cyan",shade:500},"cyan-600":{hex:"#039eb8",rgb:[3,158,184],hue:"cyan",shade:600},"cyan-700":{hex:"#04829c",rgb:[4,130,156],hue:"cyan",shade:700},"cyan-800":{hex:"#046682",rgb:[4,102,130],hue:"cyan",shade:800},"cyan-900":{hex:"#024c68",rgb:[2,76,104],hue:"cyan",shade:900},blue:{hex:"#008bb2",rgb:[0,139,178],hue:"blue"},"blue-50":{hex:"#d9eef3",rgb:[217,238,243],hue:"blue",shade:50},"blue-100":{hex:"#b9d9e6",rgb:[185,217,230],hue:"blue",shade:100},"blue-200":{hex:"#98c5d9",rgb:[152,197,217],hue:"blue",shade:200},"blue-300":{hex:"#75b1cc",rgb:[117,177,204],hue:"blue",shade:300},"blue-400":{hex:"#4d9ebf",rgb:[77,158,191],hue:"blue",shade:400},"blue-500":{hex:"#008bb2",rgb:[0,139,178],hue:"blue",shade:500},"blue-600":{hex:"#02749a",rgb:[2,116,154],hue:"blue",shade:600},"blue-700":{hex:"#035e82",rgb:[3,94,130],hue:"blue",shade:700},"blue-800":{hex:"#03496b",rgb:[3,73,107],hue:"blue",shade:800},"blue-900":{hex:"#013455",rgb:[1,52,85],hue:"blue",shade:900},indigo:{hex:"#2f519e",rgb:[47,81,158],hue:"indigo"},"indigo-50":{hex:"#e0e5f0",rgb:[224,229,240],hue:"indigo",shade:50},"indigo-100":{hex:"#bfc5e0",rgb:[191,197,224],hue:"indigo",shade:100},"indigo-200":{hex:"#9ea6cf",rgb:[158,166,207],hue:"indigo",shade:200},"indigo-300":{hex:"#7d88bf",rgb:[125,136,191],hue:"indigo",shade:300},"indigo-400":{hex:"#596caf",rgb:[89,108,175],hue:"indigo",shade:400},"indigo-500":{hex:"#2f519e",rgb:[47,81,158],hue:"indigo",shade:500},"indigo-600":{hex:"#27428d",rgb:[39,66,141],hue:"indigo",shade:600},"indigo-700":{hex:"#1e347c",rgb:[30,52,124],hue:"indigo",shade:700},"indigo-800":{hex:"#15266b",rgb:[21,38,107],hue:"indigo",shade:800},"indigo-900":{hex:"#0a185b",rgb:[10,24,91],hue:"indigo",shade:900},purple:{hex:"#962bab",rgb:[150,43,171],hue:"purple"},"purple-50":{hex:"#efdff2",rgb:[239,223,242],hue:"purple",shade:50},"purple-100":{hex:"#dfbde4",rgb:[223,189,228],hue:"purple",shade:100},"purple-200":{hex:"#ce9ad6",rgb:[206,154,214],hue:"purple",shade:200},"purple-300":{hex:"#bc78c8",rgb:[188,120,200],hue:"purple",shade:300},"purple-400":{hex:"#aa54b9",rgb:[170,84,185],hue:"purple",shade:400},"purple-500":{hex:"#962bab",rgb:[150,43,171],hue:"purple",shade:500},"purple-600":{hex:"#822298",rgb:[130,34,152],hue:"purple",shade:600},"purple-700":{hex:"#6e1886",rgb:[110,24,134],hue:"purple",shade:700},"purple-800":{hex:"#5b0f74",rgb:[91,15,116],hue:"purple",shade:800},"purple-900":{hex:"#480662",rgb:[72,6,98],hue:"purple",shade:900},pink:{hex:"#eb477e",rgb:[235,71,126],hue:"pink"},"pink-50":{hex:"#fce3ec",rgb:[252,227,236],hue:"pink",shade:50},"pink-100":{hex:"#fcc7d5",rgb:[252,199,213],hue:"pink",shade:100},"pink-200":{hex:"#fbaabe",rgb:[251,170,190],hue:"pink",shade:200},"pink-300":{hex:"#f78ca8",rgb:[247,140,168],hue:"pink",shade:300},"pink-400":{hex:"#f26c93",rgb:[242,108,147],hue:"pink",shade:400},"pink-500":{hex:"#eb477e",rgb:[235,71,126],hue:"pink",shade:500},"pink-600":{hex:"#d33a69",rgb:[211,58,105],hue:"pink",shade:600},"pink-700":{hex:"#bb2c54",rgb:[187,44,84],hue:"pink",shade:700},"pink-800":{hex:"#a41f40",rgb:[164,31,64],hue:"pink",shade:800},"pink-900":{hex:"#8c102d",rgb:[140,16,45],hue:"pink",shade:900},brown:{hex:"#925031",rgb:[146,80,49],hue:"brown"},"brown-50":{hex:"#efe5e0",rgb:[239,229,224],hue:"brown",shade:50},"brown-100":{hex:"#dec5ba",rgb:[222,197,186],hue:"brown",shade:100},"brown-200":{hex:"#cda796",rgb:[205,167,150],hue:"brown",shade:200},"brown-300":{hex:"#bb8973",rgb:[187,137,115],hue:"brown",shade:300},"brown-400":{hex:"#a76c51",rgb:[167,108,81],hue:"brown",shade:400},"brown-500":{hex:"#925031",rgb:[146,80,49],hue:"brown",shade:500},"brown-600":{hex:"#854228",rgb:[133,66,40],hue:"brown",shade:600},"brown-700":{hex:"#77341f",rgb:[119,52,31],hue:"brown",shade:700},"brown-800":{hex:"#6a2716",rgb:[106,39,22],hue:"brown",shade:800},"brown-900":{hex:"#5d180e",rgb:[93,24,14],hue:"brown",shade:900},grey:{hex:"#b4b4b4",rgb:[180,180,180],hue:"grey"},"grey-50":{hex:"#f4f4f4",rgb:[244,244,244],hue:"grey",shade:50},"grey-100":{hex:"#e7e7e7",rgb:[231,231,231],hue:"grey",shade:100},"grey-200":{hex:"#dadada",rgb:[218,218,218],hue:"grey",shade:200},"grey-300":{hex:"#cdcdcd",rgb:[205,205,205],hue:"grey",shade:300},"grey-400":{hex:"#c0c0c0",rgb:[192,192,192],hue:"grey",shade:400},"grey-500":{hex:"#b4b4b4",rgb:[180,180,180],hue:"grey",shade:500},"grey-600":{hex:"#9c9c9c",rgb:[156,156,156],hue:"grey",shade:600},"grey-700":{hex:"#848484",rgb:[132,132,132],hue:"grey",shade:700},"grey-800":{hex:"#6e6e6e",rgb:[110,110,110],hue:"grey",shade:800},"grey-900":{hex:"#585858",rgb:[88,88,88],hue:"grey",shade:900}},hues:["red","orange","amber","yellow","lime","green","teal","cyan","blue","indigo","purple","pink","brown","grey"]}}n.prototype={prototype:n,getColor:function(e,t){var n=e+(_.isUndefined(t)?"":"-"+t);return _.get(this.config.colors,n)},getHues:function(){return this.config.hues}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(67));(window.SV=window.SV||{}).Confection=i.default},function(e,t){function n(e){this.config=jQuery.extend({count:32,speed:.25,elm:void 0,canvasElm:void 0,debug:!1},e),this.flags={init:!1,console:!!console}}n.prototype={prototype:n,init:function(){if(this.flags.init)return this;this.log("Confection.init()"),this.$elm=jQuery(this.config.elm),this.$canvas=jQuery(this.config.canvasElm);var e=Confetti.createCanvas(this.$elm.get(0),this.$canvas.get(0)),t=e.context,n={angle:.01,tiltAngle:.1,draw:function(e){t.beginPath(),t.lineWidth=e.r/2,t.strokeStyle=e.color,t.moveTo(e.x+e.tilt+e.r/4,e.y),t.lineTo(e.x+e.tilt,e.y+e.tilt+e.r/4),t.stroke()},updatePosition:function(t,i){if(t.tiltAngle+=t.tiltAngleIncrement,t.y+=(Math.cos(n.angle+t.d)+1+t.r/2)*s,t.x+=Math.sin(n.angle),t.tilt=15*Math.sin(t.tiltAngle-i/3),!t.isFlakeExiting(e))return;i%5>0||i%2==0?(t.x=Confetti.randomFrom(0,e.width),t.y=-10,t.tilt=Confetti.randomFrom(-10,0)):Math.sin(n.angle)>0?(t.x=-5,t.y=Confetti.randomFrom(0,e.height),t.tilt=Confetti.randomFrom(-10,0)):(t.x=e.width+5,t.y=Confetti.randomFrom(0,e.height),t.tilt=Confetti.randomFrom(-10,0))},updateState:function(){this.angle+=.01,this.tiltAngle+=.1}},i=SV.Color.getHues(),o=this.config.count,s=this.config.speed,r=_.range(0,o).map(function(){var t=i[SV.Util.randomInt(0,i.length-1)],n=SV.Color.getColor(t),o=Confetti.randomFrom(.85,1);return Confetti.create({color:"rgba("+n.rgb.join(",")+","+o+")",x:Confetti.randomFrom(0,e.width),y:0,r:Confetti.randomFrom(5,30),tilt:Confetti.randomFrom(-10,0),tiltAngle:0,tiltAngleIncrement:Confetti.randomFrom(.05,.12,100)})});return e.step(r,n)(),this.flags.init=!0,this},destroy:function(){this.flags.init&&this.log("Confection.destroy()")},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(69));(window.SV=window.SV||{}).DropdownField=i.default},function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var s=jQuery(window),r=jQuery(document);jQuery.widget&&jQuery.ui&&jQuery.widget("custom.dropdownSelect",jQuery.ui.selectmenu,{_renderItem:function(e,t){var n=t.element.attr("data-icon-name"),i=t.element.attr("data-label"),s=jQuery("<li>"),r=jQuery("<div>",{text:!o.default.isUndefined(i)&&i.length?i:t.label});if(t.disabled&&s.addClass("ui-state-disabled"),!o.default.isUndefined(n)&&n.length){var a=this.options,c=a.iconType,l=a.iconBaseClass,u=a.iconClassPrefix,h=a.iconPath,d="left"===a.iconPosition?"prependTo":"appendTo",f=void 0;switch(c){case"css":f='<span class="sv-select-field__icon '+l+" "+u+n+'" aria-hidden="true"></span>';break;case"png":f='<img class="sv-select-field__icon icon" aria-hidden="true" alt="" src="'+h+n+'.png" />';break;case"svg":f='<img class="sv-select-field__icon icon" aria-hidden="true" alt="" src="'+h+n+'.svg" />';break;default:throw new Error('Icon type "'+c+'" not supported')}jQuery(f)[d](r)}return s.append(r).appendTo(e)},_resizeMenu:function(){var e=s.height(),t=r.scrollTop(),n=this.button.outerHeight(),i=this.button.offset().top,o=i-t-8,a=e-n-(i-t)-8;this.menu.css("max-height",Math.max(0,o,a))}});var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=o.default.assign({debug:!1,elm:void 0,closeMenuOnWindowScroll:!1,resizeMenuOnWindowResize:!1},t),this.state={id:o.default.uniqueId("sv-"),init:!1,console:!!console,hover:!1,open:!1}}return e.prototype.init=function(){if(this.state.init)return this;this.log("DropdownField.init()");var e=this,t=jQuery(this.config.elm),n=i({},o.default.pick(this.config,o.default.difference(o.default.keys(this.config),["debug","elm","closeMenuOnWindowScroll","resizeMenuOnWindowResize"])),{position:{my:"left top",at:"left bottom",collision:"none flip"},close:function(){e.state.open=!1},open:function(){e.state.open=!0}}),r=!!jQuery("option[data-icon-name]",t).length,a=t.data("iconType")||"",c=t.data("iconBaseClass")||"",l=t.data("iconClassPrefix")||"",u=t.data("iconPath")||"",h=t.data("iconPosition")||"left",d=r?{"ui-selectmenu-menu":"ui-selectmenu-menu--"+h}:{};return this.$elm=t,t.dropdownSelect(r?i({classes:d,iconType:a,iconBaseClass:c,iconClassPrefix:l,iconPath:u,iconPosition:h},n):n),t.dropdownSelect("menuWidget").on("mouseenter."+this.state.id,function(){e.state.hover=!0}).on("mouseleave."+this.state.id,function(){e.state.hover=!1}),this.config.resizeMenuOnWindowResize&&s.on("resize."+this.state.id,o.default.throttle(this.handleWindowResize.bind(this),100)),this.config.closeMenuOnWindowScroll&&s.on("scroll."+this.state.id,o.default.throttle(this.handleWindowScroll.bind(this),100)),this.state.init=!0,this},e.prototype.handleWindowResize=function(){this.state.open&&this.$elm.dropdownSelect("close").dropdownSelect("open")},e.prototype.handleWindowScroll=function(){this.state.hover||this.$elm.dropdownSelect("close")},e.prototype.log=function(e){this.config.debug&&this.state.console&&console.debug(e)},e}();e.exports=a},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(71));(window.SV=window.SV||{}).GoalChart=i.default},function(e,t){var n=["term1","term2","term3","term4","final"];function i(e){this.config=jQuery.extend({chartElm:void 0,term1Elm:void 0,term2Elm:void 0,term3Elm:void 0,term4Elm:void 0,finalElm:void 0,term1PrimaryInputElm:void 0,term1SecondaryInputElm:void 0,term2PrimaryInputElm:void 0,term2SecondaryInputElm:void 0,term3PrimaryInputElm:void 0,term3SecondaryInputElm:void 0,term4PrimaryInputElm:void 0,term4SecondaryInputElm:void 0,finalPrimaryInputElm:void 0,finalSecondaryInputElm:void 0,debug:!1},e),this.flags={init:!1,console:!!console}}i.prototype={prototype:i,init:function(){if(this.flags.init)return this;var e=this;return this.log("GoalChart.init()"),this.$chart=jQuery(this.config.chartElm),this.$term1=jQuery(this.config.term1Elm),this.$term2=jQuery(this.config.term2Elm),this.$term3=jQuery(this.config.term3Elm),this.$term4=jQuery(this.config.term4Elm),this.$final=jQuery(this.config.finalElm),this.$term1PrimaryInput=jQuery(this.config.term1PrimaryInputElm),this.$term1SecondaryInput=jQuery(this.config.term1SecondaryInputElm),this.$term1PrimaryInput=jQuery(this.config.term1PrimaryInputElm),this.$term1SecondaryInput=jQuery(this.config.term1SecondaryInputElm),this.$term2PrimaryInput=jQuery(this.config.term2PrimaryInputElm),this.$term2SecondaryInput=jQuery(this.config.term2SecondaryInputElm),this.$term3PrimaryInput=jQuery(this.config.term3PrimaryInputElm),this.$term3SecondaryInput=jQuery(this.config.term3SecondaryInputElm),this.$term4PrimaryInput=jQuery(this.config.term4PrimaryInputElm),this.$term4SecondaryInput=jQuery(this.config.term4SecondaryInputElm),this.$finalPrimaryInput=jQuery(this.config.finalPrimaryInputElm),this.$finalSecondaryInput=jQuery(this.config.finalSecondaryInputElm),this.flags.init=!0,_.forEach(n,function(t){var n=e["$"+t+"PrimaryInput"],i=e["$"+t+"SecondaryInput"],o=e["$"+t];e.bindRowEvents(n,i,o),e.updateRow(n,i,o)}),this},destroy:function(){this.flags.init&&this.log("GoalChart.destroy()")},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)},bindRowEvents:function(e,t,n){if(!this.flags.init)return this;var i=this,o=_.throttle(function(){i.updateRow(e,t,n)},100);e.on("change.GoalChart keyup.GoalChart",o),t.on("change.GoalChart keyup.GoalChart",o)},unbindRowEvents:function(e,t){if(!this.flags.init)return this;e.off("change.GoalChart keyup.GoalChart"),t.off("change.GoalChart keyup.GoalChart")},updateRow:function(e,t,n){var i,o,s,r,a,c,l,u,h;if(e.length){i=this.toFloat(e.attr("min")),o=this.toFloat(e.attr("max")),s=this.toFloat(e.val()),s=this.constrain(s,i,o),r=this.toRoundInt(s);var d=jQuery(".sv-chart__value--primary",n);s?(n.attr("data-primary",r),d.attr("title",s+"%"),jQuery(".sv-chart__label",d).html(s)):(n.removeAttr("data-primary"),d.removeAttr("title"))}if(t.length){a=this.toFloat(t.attr("min")),c=this.toFloat(t.attr("max")),l=this.toFloat(t.val()),l=this.constrain(l,a,c),u=this.toRoundInt(l);var f=jQuery(".sv-chart__value--secondary",n);l?(n.attr("data-secondary",u),f.attr("title",l+"%"),jQuery(".sv-chart__label",f).html(l)):(n.removeAttr("data-secondary"),f.removeAttr("title"))}s&&l&&s<=l?(n.addClass("sv-chart__row--achieved"),h='<span class="sv-chart__label-icon icon icon-trophy" aria-hidden="true"></span><span class="sv-chart__label-text">Yes</span>'):(n.removeClass("sv-chart__row--achieved"),h='<span class="sv-chart__label-text">No</span>'),jQuery(".sv-chart__value--achieved .sv-chart__label",n).html(h)},toFloat:function(e){if(!_.isUndefined(e)){if(_.isNumber(e))return e;if(e=(e=_.trim(e)).replace(/,/g,"."),(e=_.trim(e,".")).length)return Number(e)}},toRoundInt:function(e){if(e=this.toFloat(e),!_.isUndefined(e))return Math.round(e)},constrain:function(e,t,n){return e<t?t:e>n?n:e}},e.exports=i},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(73));(window.SV=window.SV||{}).IntroMessage=i.default},function(e,t,n){var i=s(n(0)),o=s(n(74));function s(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=o.default.extend({dismissable:!1,dismissButton:".sv-intro-message__close",dismissDuration:400,dismissEasing:"swing",dismissFn:"fadeOut",elm:void 0,onDismiss:i.default.noop,onInit:i.default.noop,debug:!1},t),this.flags={init:!1,console:!!console},this.id=i.default.uniqueId("sv-"),this.$elm=void 0,this.$dismissButton=void 0}return e.prototype.init=function(){if(this.flags.init)return this;this.log("IntroMessage.init()");var e=this;return this.$elm=(0,o.default)(this.config.elm),this.config.dismissable&&(this.$dismissButton=(0,o.default)(this.config.dismissButton,this.$elm),this.$dismissButton.on("click.IntroMessage",function(t){t.preventDefault(),e.$elm.stop()[e.config.dismissFn]({duration:e.config.dismissDuration,easing:e.config.dismissEasing,complete:e.config.onDismiss})})),this.config.onInit(),this},e.prototype.destroy=function(){this.flags.init&&(this.log("IntroMessage.destroy()"),this.config.dismissable&&this.$dismissButton.off("click.IntroMessage"))},e.prototype.log=function(e){this.config.debug&&this.flags.console&&console.debug(e)},e}();e.exports=r},function(e,t){e.exports=jQuery},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(76));(window.SV=window.SV||{}).Table=i.default},function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=r(n(0)),s=r(n(77));function r(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=o.default.assign({debug:!1,elm:void 0,onSelectedChange:function(){}},t),this.state={domId:o.default.uniqueId("sv-"),selected:[],init:!1,console:!!console}}return e.prototype.init=function(){if(this.state.init)return this;this.log("Table.init()");var e=this,t=this.state.domId,n=jQuery(this.config.elm),r=o.default.pick(this.config,o.default.difference(o.default.keys(this.config),["debug","elm","onSelectedChange"])),a=r.initComplete,c=void 0===a?function(){}:a,l=r.select,u=(void 0===l?{}:l).style;return r.initComplete=function(t){jQuery("#"+n.attr("id")+"_length select").removeAttr("name");var i=new jQuery.fn.dataTable.Api(t).table();e.table=i,c()},this.$elm=n,u&&n.on("init.dt",function(n,i){var o=new jQuery.fn.dataTable.Api(i).table(),r=function(t,n,i,r){if("row"===i){var a=o.rows({selected:!0}).data().toArray();(0,s.default)(e.state.selected,a)||(e.state.selected=a,e.config.onSelectedChange(a))}};o.on("deselect",function(e,t,n,i){r(0,0,n)}),o.on("select",function(e,n,i,s){r(0,0,i),"ALL"!==jQuery("#"+t+"-dt-show-selected").val()&&o.draw(!1)}),jQuery(o.node()).before('<div class="dataTables_selected">\n          <label>\n            Selection:\n            <select\n              id="'+t+'-dt-show-selected"\n              class="sv-select-field__input"\n            >\n              <option value="ALL">Show all</option>\n              <option value="SELECTED">Show selected</option>\n              <option value="NOT_SELECTED">Show not selected</option>\n            </select>\n          </label>\n        </div>'),jQuery("#"+t+"-dt-show-selected").on("change",function(e){switch(e.target.value){case"ALL":jQuery.fn.dataTable.ext.search.pop(),o.draw();break;case"SELECTED":jQuery.fn.dataTable.ext.search.pop(),jQuery.fn.dataTable.ext.search.push(function(e,t,n){return jQuery(o.row(n).node()).hasClass("selected")}),o.draw();break;case"NOT_SELECTED":jQuery.fn.dataTable.ext.search.pop(),jQuery.fn.dataTable.ext.search.push(function(e,t,n){return!jQuery(o.row(n).node()).hasClass("selected")}),o.draw()}})}),n.DataTable(i({oClasses:{sWrapper:"dataTables_wrapper sv-data-table-wrapper"}},r)),this.state.init=!0,this},e.prototype.getCheckboxColumn=function(e){var t=e.oInit,n=t.columnDefs,i=void 0===n?[]:n,s=t.columns,r=void 0===s?[]:s;return i.length?o.default.get(o.default.first(i.filter(function(e){return e.checkboxes})),"targets"):o.default.first(r.map(function(e,t){return e.checkboxes?t:-1}).filter(function(e){return~e.index}))},e.prototype.select=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.table,i=n.settings()[0],o=new jQuery.fn.dataTable.Api(i),s=this.getCheckboxColumn(i);o.cells(n.rows(function(n,i,o){return~t.indexOf(i[e])}).indexes(),s).checkboxes.select()},e.prototype.log=function(e){this.config.debug&&this.state.console&&console.debug(e)},e}();e.exports=a},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!==(void 0===e?"undefined":n(e))||null===e||"object"!==(void 0===t?"undefined":n(t))||null===t)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(var a=0;a<s.length;a++)if(!i.call(t,s[a])||!o(e[s[a]],t[s[a]]))return!1;return!0}},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(79));(window.SV=window.SV||{}).LivePreview=i.default},function(e,t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=n({includeResponseTypes:[SV.ChemJax.CHEMCOMPOUND,SV.ChemJax.CHEMEQUATION,SV.ChemJax.CHOICE,SV.ChemJax.COORDINATE,SV.ChemJax.ELECTROCHEMCELL,SV.ChemJax.EQUATION,SV.ChemJax.EXPRESSION,SV.ChemJax.FRACTION,SV.ChemJax.INTERVAL,SV.ChemJax.LIST,SV.ChemJax.NUMERIC,SV.ChemJax.ONE_OF,SV.ChemJax.POLYNOMIAL,SV.ChemJax.RELATIONAL,SV.ChemJax.SPECTROSCOPIC],responseTypeElms:void 0,responseInputElms:void 0,previewElm:void 0,debug:!1},t),this.flags={init:!1,mathJaxLoaded:!1,contentInit:!1,contentReady:!1,console:!!console},this.$preview=void 0,this.id=_.uniqueId("sv-"),this.math=void 0,this.responseTypes=[],this.updateQueue=void 0}return e.prototype.init=function(){if(this.log("LivePreview.init id="+this.id),this.flags.init)return this;var e=this,t=this.id,n=this.config,i=this.onMathJaxLoaded;jQuery(n.responseTypeElms).each(function(){var t=_.trim(jQuery(this).text()).toLowerCase();e.responseTypes.push(t)});var o=jQuery(n.previewElm),s=o.is(":hidden"),r=jQuery('<section class="sv-live-preview" style="display: '+(s?"none":"block")+';" id="'+t+'"><header class="sv-live-preview__header"><h1>Preview</h1></header><div class="sv-live-preview__body"><svg class="svg-icon sv-spinner sv-live-preview__spinner" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#icon-spinner"/></svg><div class="sv-live-preview__content" id="'+t+'-content">` `</div></div></section>');return o.replaceWith(r),this.$preview=r,e.flags.init=!0,jQuery(n.responseInputElms).each(function(t){var n=jQuery(this);if(!n.prop("readonly")){var i=_.uniqueId("sv-"),o=e.responseTypes[t],s=SV.ChemJax.parseResponseType(o),r=~e.config.includeResponseTypes.indexOf(s.type)?function(t,n,i){var o=_.trim(this.value);o.length?e.update(t,o,n):e.hide()}.bind(this,i,o):function(){e.hide()};n.on("focus.LivePreview keyup.LivePreview",_.throttle(r,100))}}),MathJax.Hub.Register.StartupHook("End",i.bind(this)),this},e.prototype.destroy=function(){this.log("LivePreview.destroy id="+this.id)},e.prototype.log=function(e){this.config.debug&&this.flags.console&&console.log(e)},e.prototype.initContent=function(){return this.log("LivePreview.initContent id="+this.id),this.flags.contentInit?this:(this.flags.contentInit=!0,this.$preview.addClass("sv-live-preview--show-content"),MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.id+"-content"],this.onContentReady.bind(this)),this)},e.prototype.update=function(e,t,n){this.log("LivePreview.update id="+this.id+" inputId="+e);var i=this.flags,o=i.mathJaxLoaded,s=i.contentReady;return this.show(),o?s?(MathJax.Hub.Queue(["Text",this.math,SV.ChemJax.filter(t,n)]),this):(this.updateQueue={value:t,responseType:n},this.initContent()):(this.updateQueue={value:t,responseType:n},this)},e.prototype.show=function(){return this.log("LivePreview.show id="+this.id),this.$preview.show(),this},e.prototype.hide=function(){return this.log("LivePreview.hide id="+this.id),this.$preview.hide(),this},e.prototype.onMathJaxLoaded=function(){return this.log("LivePreview.onMathJaxLoaded id="+this.id),this.flags.mathJaxLoaded=!0,jQuery(".sv-live-preview__spinner",this.$preview).remove(),this.$preview.is(":hidden")?this:this.initContent()},e.prototype.onContentReady=function(){if(this.log("LivePreview.onContentReady id="+this.id),this.flags.contentReady)return this;var e=MathJax.Hub.getAllJax(this.id+"-content")[0];return this.math=e,this.flags.contentReady=!0,_.isUndefined(this.updateQueue)||this.update(null,this.updateQueue.value,this.updateQueue.responseType),this},e}();e.exports=i},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(81));(window.SV=window.SV||{}).MaxLength=i.default},function(e,t){function n(e){this.config=jQuery.extend({inputElm:void 0,hintElm:void 0,hintRules:{0:"{} characters remaining",1:"{} character remaining",other:"{} characters remaining"},twoCharLinebreak:!0,utf8:!1,validate:!1,warningThreshold:10,warningClassName:"sv-text-field__hint--warning",debug:!1},e),this.flags={init:!1,console:!!console},this.$input=void 0,this.$hint=void 0}n.prototype={prototype:n,init:function(){if(this.flags.init)return this;this.log("MaxLength.init()"),this.$input=jQuery(this.config.inputElm),this.$hint=jQuery(this.config.hintElm),this.flags.init=!0;var e=this;return this.update(),this.$input.on("input.MaxLength",function(){return!e.update()}),this},destroy:function(){this.flags.init&&(this.log("MaxLength.destroy()"),this.$input.off("input.MaxLength"))},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)},getMaxLength:function(){if(this.flags.init)return Number(this.$input.attr("maxlength"))},getInputLength:function(){if(this.flags.init){var e=this.$input.val();return e=this.config.twoCharLinebreak?e.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n"):e.replace(new RegExp("\r?\n","g"),"\n"),this.config.utf8?this.utf8Length(e):e.length}},truncateInput:function(e){if(this.flags.init){var t=this.$input.val(),n=0;this.config.twoCharLinebreak&&"\n"===(t=t.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n")).substr(t.length-1)&&t.length%2==1&&(n=1),this.$input.val(t.substr(0,e-n))}},update:function(){var e=this.getMaxLength(),t=this.getInputLength(),n=e-t,i=!1;return this.config.validate&&n<0&&(this.truncateInput(e),i=!0),n=e-(t=this.getInputLength()),this.updateHint(e,t,n),i},updateHint:function(e,t,n){if(this.flags.init){var i=SV.Util.pluralize(n,this.config.hintRules);this.$hint.html(i),this.config.warningThreshold>=n?this.$hint.addClass(this.config.warningClassName):this.$hint.removeClass(this.config.warningClassName)}},utf8Length:function(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t++:t+=i>127&&i<2048?2:3}return t}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(83));(window.SV=window.SV||{}).PasswordField=i.default},function(e,t){function n(e){this.config=jQuery.extend({inputElm:void 0,maskToggleElm:void 0,debug:!1},e),this.flags={init:!1,console:!!console},this.id=_.uniqueId("sv-")}n.prototype={prototype:n,init:function(){if(this.flags.init)return this;this.log("PasswordField.init()");var e=this;this.$input=jQuery(this.config.inputElm),this.$maskToggle=jQuery(this.config.maskToggleElm);var t=(this.$maskToggle.attr("type")||"").toLowerCase(),n=(this.$maskToggle.get(0).nodeName||"").toLowerCase();return"checkbox"===t?(this.maskToggleType="CHECKBOX",this.$maskToggle.on("change.PasswordField",function(t){t.preventDefault(),this.checked?e.$input.attr("type","text"):e.$input.attr("type","password")})):"button"!==t&&"button"!==n||(this.maskToggleType="ICON",this.$maskToggleIcon=jQuery(".icon",this.$maskToggle),this.$maskToggle.on("click",function(){"password"===e.$input.attr("type").toLowerCase()?(e.$input.attr("type","text"),e.$maskToggle.attr("aria-label","Hide password").attr("title","Hide password"),e.$maskToggleIcon.removeClass("icon-eye").addClass("icon-eye-disabled")):(e.$input.attr("type","password"),e.$maskToggle.attr("aria-label","Show password").attr("title","Show password"),e.$maskToggleIcon.addClass("icon-eye").removeClass("icon-eye-disabled"))})),this},destroy:function(){this.flags.init&&(this.log("PasswordField.destroy()"),"CHECKBOX"===this.maskToggleType?this.$maskToggle.off("change.PasswordField"):"ICON"===this.maskToggleType&&this.$maskToggle.off("click.PasswordField"))},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(85));(window.SV=window.SV||{}).TextChart=i.default},function(e,t){function n(e){this.config=jQuery.extend({chartElm:void 0,valueNumberElm:void 0,valueUnitElm:void 0,debug:!1,mockRoutes:{},routes:{},updateInterval:1e4,valueUnitTemplate:_.noop,counterDuration:2e3,counterSeparator:" "},e),this.flags={init:!1,console:!!console,running:!1}}n.prototype={prototype:n,init:function(){if(this.flags.init)return this;if(this.log("TextChart.init()"),this.$chart=jQuery(this.config.chartElm),this.$valueNumber=jQuery(this.config.valueNumberElm),this.$valueUnit=jQuery(this.config.valueUnitElm),!this.$chart.length||!this.$valueNumber.length)return this;var e=Number(this.$chart.data("value")),t=_.assign(_.pick(this.config,["debug","mockRoutes","routes","updateInterval"]),{value:e,onInit:this.render.bind(this),onChange:this.render.bind(this)});this.controller=new SV.ChartController(t),this.controller.init();var n=this.controller.getValue(),i=this.$valueNumber.get(0);return this.valueNumberAnim=new CountUp(i,n,n,this.config.counterDecimals,this.config.counterDuration/1e3,{separator:this.config.counterSeparator}),this.flags.init=!0,this},destroy:function(){this.flags.init&&this.log("TextChart.destroy()")},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)},start:function(){this.flags.init&&!this.flags.running&&(this.log("TextChart.start()"),this.controller.start(),this.flags.running=!0)},render:function(){if(this.flags.init){var e=this.controller.getValue();this.valueNumberAnim.update(e),this.$valueUnit.length&&this.$valueUnit.html(this.config.valueUnitTemplate(e))}}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(87));(window.SV=window.SV||{}).TextChartPanel=i.default},function(e,t){function n(e){this.config=jQuery.extend({panelElm:void 0,chartElm:void 0,valueNumberElm:void 0,valueUnitElm:void 0,debug:!1,mockRoutes:{},routes:{},updateInterval:1e4,valueUnitTemplate:_.noop,counterDuration:2e3,counterSeparator:" "},e),this.flags={init:!1,console:!!console,running:!1}}n.prototype={prototype:n,init:function(){if(this.flags.init)return this;if(this.log("TextChartPanel.init()"),this.$panel=jQuery(this.config.panelElm),this.$chart=jQuery(this.config.chartElm),this.$valueNumber=jQuery(this.config.valueNumberElm),this.$valueUnit=jQuery(this.config.valueUnitElm),!this.$panel.length||!this.$chart.length||!this.$valueNumber.length)return this;var e=Number(this.$panel.data("value")),t=_.assign(_.pick(this.config,["debug","mockRoutes","routes","updateInterval"]),{value:e,onInit:this.render.bind(this),onChange:this.render.bind(this)});this.controller=new SV.ChartController(t),this.controller.init();var n=this.controller.getValue(),i=this.$valueNumber.get(0);return this.valueNumberAnim=new CountUp(i,n,n,this.config.counterDecimals,this.config.counterDuration/1e3,{separator:this.config.counterSeparator}),this.flags.init=!0,this},destroy:function(){this.flags.init&&this.log("TextChartPanel.destroy()")},log:function(e){this.config.debug&&this.flags.console&&console.debug(e)},start:function(){this.flags.init&&!this.flags.running&&(this.log("TextChartPanel.start()"),this.controller.start(),this.flags.running=!0)},render:function(){if(this.flags.init){var e=this.controller.getValue();this.valueNumberAnim.update(e),this.$valueUnit.length&&this.$valueUnit.html(this.config.valueUnitTemplate(e))}}},e.exports=n},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(89));(window.SV=window.SV||{}).DashboardToc=i.default},function(e,t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=n({tocElm:void 0,collapseButtonElm:void 0,debug:!1},t),this.state={init:!1,console:!!console,isCollapsed:!1}}return e.prototype.init=function(){if(this.state.init)return this;this.log("DashboardToc.init()");var e=this,t=this.state;return t.$toc=jQuery(this.config.tocElm),t.$collapseButton=jQuery(this.config.collapseButtonElm),t.$collapseTarget=jQuery(".sv-toc__chapter-body",this.config.tocElm),t.$collapseButton.on("click.DashboardToc",function(t){t.preventDefault(),e.toggleCollapsed()}),t.isCollapsed=t.$toc.hasClass("collapsed"),t.init=!0,this},e.prototype.destroy=function(){this.state.init&&this.log("DashboardToc.destroy()")},e.prototype.log=function(e){this.config.debug&&this.state.console&&console.debug(e)},e.prototype.toggleCollapsed=function(){this.log("DashboardToc.toggleCollapsed()");var e=this.state,t=!e.isCollapsed;t?e.$collapseButton.addClass("collapsed"):e.$collapseButton.removeClass("collapsed"),e.$collapseTarget.velocity(t?"slideUp":"slideDown",{duration:250,easing:"easeOutQuint"}),e.isCollapsed=t},e}();e.exports=i},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(91));(window.SV=window.SV||{}).ChapterFilterToc=i.default},function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var s="ChapterFilterToc";function r(e){return o.default.isNull(e)||o.default.isUndefined(e)}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=i({tocElm:void 0,chapterElms:void 0,findSections:function(){},findChapterCollapseCheckbox:function(){},findChapterCollapseButton:function(){},findChapterCollapseTarget:function(){},onChange:function(){},onDeselectAll:function(){},onInit:function(){},onSelectAll:function(){},debug:!1},t),this.state={init:!1,console:!!console,$toc:void 0,$sectionsByChapterId:{},$chapterCollapseCheckbox:{},$chapterCollapseButton:{},$chapterCollapseTarget:{},isChapterCollapsed:{},sectionIds:[],sectionValues:[],sectionIdsByChapterId:{},sectionValuesByChapterId:{},selectedSectionIds:[],selectedSectionValues:[]}}return e.prototype.init=function(){if(this.state.init)return this;this.log(s+".init()");var e=this,t=this.state;t.$toc=jQuery(this.config.tocElm),t.$chapters=jQuery(this.config.chapterElms),t.$chapters.each(function(){var n=jQuery(this),i=n.is(":checked"),a=n.attr("id");a||(a=o.default.uniqueId(s+"-chapter-select-"),n.attr("id",a)),n.on("click."+s,function(){var n=jQuery(this),i=n.is(":checked"),s=n.attr("id");t.$sectionsByChapterId[s].each(function(){var t=jQuery(this);e.setCheckboxChecked(t,i)}),e.setCheckboxChecked(n,i),e.setCheckboxIndeterminate(n,!1);var r=t.sectionIdsByChapterId[s],a=t.sectionValuesByChapterId[s],c=[].concat(t.selectedSectionIds),l=[].concat(t.selectedSectionValues);i?(t.selectedSectionIds=o.default.uniq([].concat(t.selectedSectionIds,r)),t.selectedSectionValues=o.default.uniq([].concat(t.selectedSectionValues,a))):(t.selectedSectionIds=o.default.difference(t.selectedSectionIds,r),t.selectedSectionValues=o.default.difference(t.selectedSectionValues,a)),e.config.onChange.apply(e,[t.selectedSectionIds,c,t.selectedSectionValues,l])});var c=e.config.findSections(n),l=[],u=[];c.each(function(){var n=jQuery(this),c=n.attr("value"),h=n.attr("id");l.push(h),r(c)||u.push(c),h||(h=o.default.uniqueId(s+"-section-select-"),n.attr("id",h)),i&&e.setCheckboxChecked(n,i),n.data("chapterId",a),n.on("click."+s,function(){var n=jQuery(this),i=n.is(":checked"),s=n.data("chapterId");e.setCheckboxChecked(n,i),e.inferChapterSelection(s);var a=[].concat(t.selectedSectionIds),l=[].concat(t.selectedSectionValues);i?(t.selectedSectionIds=o.default.uniq([].concat(t.selectedSectionIds,[h])),r(c)||(t.selectedSectionValues=o.default.uniq([].concat(t.selectedSectionValues,[c])))):(t.selectedSectionIds=o.default.difference(t.selectedSectionIds,[h]),r(c)||(t.selectedSectionValues=o.default.difference(t.selectedSectionValues,[c]))),e.config.onChange.apply(e,[t.selectedSectionIds,a,t.selectedSectionValues,l])})}),t.$sectionsByChapterId[a]=c,t.sectionIdsByChapterId[a]=l,t.sectionValuesByChapterId[a]=u;var h=e.config.findChapterCollapseCheckbox(n),d=h.attr("id");d||(d=o.default.uniqueId(s+"-chapter-collapse-checkbox-"),h.attr("id",d)),h.data("chapterId",a),h.on("click."+s,function(){var t=jQuery(this).data("chapterId");e.toggleChapterCollapsed(t)}),t.$chapterCollapseCheckbox[a]=h;var f=e.config.findChapterCollapseButton(n),g=f.attr("id");g||(g=o.default.uniqueId(s+"-chapter-collapse-button-"),f.attr("id",g)),t.$chapterCollapseButton[a]=f;var p=e.config.findChapterCollapseTarget(n),m=p.attr("id");m||(m=o.default.uniqueId(s+"-chapter-collapse-target-"),p.attr("id",m)),t.$chapterCollapseTarget[a]=p;var b=!h.is(":checked");t.isChapterCollapsed[a]=b,p.velocity(b?"slideUp":"slideDown",{duration:0})});var n=[],i=[],a=[],c=[];return t.$chapters.each(function(){var o=jQuery(this),s=o.attr("id"),l=o.is(":checked");n=[].concat(n,t.sectionIdsByChapterId[s]),i=[].concat(i,t.sectionValuesByChapterId[s]),l||e.inferChapterSelection(s),l?(a=[].concat(a,t.sectionIdsByChapterId[s]),c=[].concat(c,t.sectionValuesByChapterId[s])):t.$sectionsByChapterId[s].each(function(){var e=jQuery(this),t=e.attr("id"),n=e.attr("value");e.is(":checked")&&(a=[].concat(a,[t]),r(n)||(c=[].concat(c,[n])))})}),t.sectionIds=n,t.sectionValues=i,t.selectedSectionIds=a,t.selectedSectionValues=c,t.init=!0,e.config.onInit.apply(e,[a,[],c,[]]),this},e.prototype.destroy=function(){if(this.state.init){this.log(s+".destroy()");var e=this,t=this.state;t.$chapters.each(function(){var n=jQuery(this),i=n.attr("id"),o=t.$sectionsByChapterId[i],r=t.$chapterCollapseCheckbox[i];n.off("click."+s),o.each(function(){jQuery(this).off("click."+s)}),r.off("click."+s),e.config.findChapterCollapseTarget(n).css("display","")})}},e.prototype.log=function(e){this.config.debug&&this.state.console&&console.debug(e)},e.prototype.getSectionIds=function(){return this.state.sectionIds},e.prototype.getSectionValues=function(){return this.state.sectionValues},e.prototype.getSelectedSectionIds=function(){return this.state.selectedSectionIds},e.prototype.getSelectedSectionValues=function(){return this.state.selectedSectionValues},e.prototype.isAllSectionsSelected=function(){return this.state.selectedSectionIds.length>0&&this.state.sectionIds.length===this.state.selectedSectionIds.length},e.prototype.isSomeSectionsSelected=function(){return this.state.selectedSectionIds.length>0},e.prototype.deselectAll=function(){var e=this,t=this.state,n=[].concat(t.selectedSectionIds),i=[].concat(t.selectedSectionValues);t.$chapters.each(function(){var n=jQuery(this),i=n.attr("id"),o=t.$sectionsByChapterId[i];o.length&&o.each(function(){var t=jQuery(this);e.setCheckboxChecked(t,!1)}),e.setCheckboxChecked(n,!1),e.setCheckboxIndeterminate(n,!1)}),t.selectedSectionIds=[],t.selectedSectionValues=[],e.config.onDeselectAll.apply(e,[t.selectedSectionIds,n,t.selectedSectionValues,i])},e.prototype.selectAll=function(){var e=this,t=this.state,n=[].concat(t.selectedSectionIds),i=[].concat(t.selectedSectionValues),o=[],s=[];t.$chapters.each(function(){var n=jQuery(this),i=n.attr("id"),r=t.$sectionsByChapterId[i];r.length?(e.setCheckboxChecked(n,!0),e.setCheckboxIndeterminate(n,!1),r.each(function(){var t=jQuery(this);e.setCheckboxChecked(t,!0)}),o=[].concat(o,t.sectionIdsByChapterId[i]),s=[].concat(s,t.sectionValuesByChapterId[i])):(e.setCheckboxChecked(n,!1),e.setCheckboxIndeterminate(n,!1))}),t.selectedSectionIds=o,t.selectedSectionValues=s,e.config.onSelectAll.apply(e,[t.selectedSectionIds,n,t.selectedSectionValues,i])},e.prototype.inferChapterSelection=function(e){var t=jQuery("#"+e),n=this.state.$sectionsByChapterId[e],i=!0,o=!1;n.length?n.each(function(){var e=jQuery(this).is(":checked");i=i&&e,o=o||e}):(i=!1,o=!1);var s=!i&&o;this.setCheckboxChecked(t,i),this.setCheckboxIndeterminate(t,s)},e.prototype.toggleChapterCollapsed=function(e){this.log(s+".toggleChapterCollapsed()");var t=this.state,n=t.$chapterCollapseTarget[e],i=!t.isChapterCollapsed[e];n.velocity(i?"slideUp":"slideDown",{duration:250,easing:"easeOutCubic"}),t.isChapterCollapsed[e]=i},e.prototype.setCheckboxChecked=function(e,t){e.prop("checked",t)},e.prototype.setCheckboxIndeterminate=function(e,t){t?e.attr("data-indeterminate","true"):e.removeAttr("data-indeterminate"),e.prop("indeterminate",t)},e}();e.exports=a},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(93));(window.SV=window.SV||{}).SectionFilterToc=i.default},function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var s="SectionFilterToc";function r(e){return o.default.isNull(e)||o.default.isUndefined(e)}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=i({tocElm:void 0,chapterElms:void 0,findChapterCollapseCheckbox:function(){},findChapterCollapseButton:function(){},findChapterCollapseTarget:function(){},onChange:function(){},onDeselectAll:function(){},onInit:function(){},onSelectAll:function(){},onToggleChapterCollapsed:function(){},debug:!1},t),this.state={id:o.default.uniqueId("sv-"),init:!1,console:!!console,$toc:void 0,$chapterCollapseCheckbox:{},$chapterCollapseButton:{},$chapterCollapseTarget:{},isChapterCollapsed:{},sectionIds:[],sectionValues:[],sectionIdsByChapterId:{},sectionValuesByChapterId:{},selectedSectionIds:[],selectedSectionValues:[]}}return e.prototype.init=function(){if(this.state.init)return this;this.log(s+".init()");var e=this,t=this.state;t.$toc=jQuery(this.config.tocElm),t.$chapters=jQuery(this.config.chapterElms),t.$sections=jQuery(this.config.sectionElms),t.$chapters.each(function(){var n=jQuery(this),i=n.attr("id");i||(i=o.default.uniqueId(s+"-chapter-select-"),n.attr("id",i));var r=e.config.findChapterCollapseCheckbox(n),a=r.attr("id");a||(a=o.default.uniqueId(s+"-chapter-collapse-checkbox-"),r.attr("id",a)),r.data("chapterId",i),r.on("click."+s,function(){var t=jQuery(this).data("chapterId");e.toggleChapterCollapsed(t)}),t.$chapterCollapseCheckbox[i]=r;var c=e.config.findChapterCollapseButton(n),l=c.attr("id");l||(l=o.default.uniqueId(s+"-chapter-collapse-button-"),c.attr("id",l)),t.$chapterCollapseButton[i]=c;var u=e.config.findChapterCollapseTarget(n),h=u.attr("id");h||(h=o.default.uniqueId(s+"-chapter-collapse-target-"),u.attr("id",h)),t.$chapterCollapseTarget[i]=u;var d=!r.is(":checked");t.isChapterCollapsed[i]=d,u.velocity(d?"slideUp":"slideDown",{duration:0})}),t.$sections.each(function(){var n=jQuery(this),i=n.attr("value"),a=n.attr("id");a||(a=o.default.uniqueId(s+"-section-select-"),n.attr("id",a)),n.on("click."+s,function(){var n=jQuery(this),s=n.is(":checked");e.setCheckboxChecked(n,s);var c=[].concat(t.selectedSectionIds),l=[].concat(t.selectedSectionValues);s?(t.selectedSectionIds=o.default.uniq([].concat(t.selectedSectionIds,[a])),r(i)||(t.selectedSectionValues=o.default.uniq([].concat(t.selectedSectionValues,[i])))):(t.selectedSectionIds=o.default.difference(t.selectedSectionIds,[a]),r(i)||(t.selectedSectionValues=o.default.difference(t.selectedSectionValues,[i]))),e.config.onChange.apply(e,[t.selectedSectionIds,c,t.selectedSectionValues,l])})});var n=[],i=[],a=[],c=[];return t.$sections.each(function(){var e=jQuery(this),t=e.attr("id"),o=e.attr("value"),s=e.is(":checked");n.push(t),r(o)||i.push(o),s&&(a=[].concat(a,[t]),r(o)||(c=[].concat(c,[o])))}),t.sectionIds=n,t.sectionValues=i,t.selectedSectionIds=a,t.selectedSectionValues=c,t.init=!0,e.config.onInit.apply(e,[a,[],c,[]]),this},e.prototype.destroy=function(){if(this.state.init){this.log(s+".destroy()");var e=this,t=this.state;t.$chapters.each(function(){var n=jQuery(this),i=n.attr("id");t.$chapterCollapseCheckbox[i].off("click."+s),e.config.findChapterCollapseTarget(n).css("display","")}),t.$sections.each(function(){jQuery(this).off("click."+s)})}},e.prototype.log=function(e){this.config.debug&&this.state.console&&console.debug(e)},e.prototype.getSectionIds=function(){return this.state.sectionIds},e.prototype.getSectionValues=function(){return this.state.sectionValues},e.prototype.getSelectedSectionIds=function(){return this.state.selectedSectionIds},e.prototype.getSelectedSectionValues=function(){return this.state.selectedSectionValues},e.prototype.isAllSectionsSelected=function(){return this.state.selectedSectionIds.length>0&&this.state.sectionIds.length===this.state.selectedSectionIds.length},e.prototype.isSomeSectionsSelected=function(){return this.state.selectedSectionIds.length>0},e.prototype.deselectAll=function(){var e=this,t=this.state,n=[].concat(t.selectedSectionIds),i=[].concat(t.selectedSectionValues);t.$sections.each(function(){var t=jQuery(this);e.setCheckboxChecked(t,!1)}),t.selectedSectionIds=[],t.selectedSectionValues=[],e.config.onDeselectAll.apply(e,[t.selectedSectionIds,n,t.selectedSectionValues,i])},e.prototype.selectAll=function(){var e=this,t=this.state,n=[].concat(t.selectedSectionIds),i=[].concat(t.selectedSectionValues);t.$sections.each(function(){var t=jQuery(this);e.setCheckboxChecked(t,!0)}),t.selectedSectionIds=[].concat(t.sectionIds),t.selectedSectionValues=[].concat(t.sectionValues),e.config.onSelectAll.apply(e,[t.selectedSectionIds,n,t.selectedSectionValues,i])},e.prototype.toggleChapterCollapsed=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this.log(s+".toggleChapterCollapsed()");var i=this.state,r=i.$chapterCollapseCheckbox[e],a=i.$chapterCollapseTarget[e],c=o.default.isUndefined(t)?!i.isChapterCollapsed[e]:t;this.setCheckboxChecked(r,!c),a.velocity(c?"slideUp":"slideDown",{duration:250,easing:"easeOutQuint",complete:n}),i.isChapterCollapsed[e]=c,this.config.onToggleChapterCollapsed.apply(this,[c,!c])},e.prototype.toggleAllChaptersCollapsed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.log(s+".toggleAllChaptersCollapsed()");var n=this;this.state.$chapters.each(function(){var i=jQuery(this).attr("id");n.toggleChapterCollapsed(i,e,t)})},e.prototype.setCheckboxChecked=function(e,t){e.prop("checked",t)},e.prototype.setCheckboxIndeterminate=function(e,t){t?e.attr("data-indeterminate","true"):e.removeAttr("data-indeterminate"),e.prop("indeterminate",t)},e}();e.exports=a}]);